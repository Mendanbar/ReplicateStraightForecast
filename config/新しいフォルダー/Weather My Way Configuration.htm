<!DOCTYPE HTML>
<!-- saved from url=(0052)http://jaredbiehler.github.io/weather-my-way/config/ -->
<!DOCTYPE html PUBLIC "" ""><HTML><HEAD><META content="IE=11.0000" 
http-equiv="X-UA-Compatible">
     <TITLE>Weather My Way Configuration</TITLE>     
<META charset="utf-8">     
<META name="viewport" content="width=device-width, initial-scale=1">     <LINK 
href="Weather%20My%20Way%20Configuration.files/jquery.mobile.min.css" rel="stylesheet"> 
    
<STYLE>
        #apikey { display: none;}
    </STYLE>
     
<SCRIPT src="Weather%20My%20Way%20Configuration.files/jquery.min.js"></SCRIPT>
     
<SCRIPT src="Weather%20My%20Way%20Configuration.files/jquery.mobile.min.js"></SCRIPT>
 
<META name="GENERATOR" content="MSHTML 11.00.9600.17937"></HEAD> 
<BODY>
<DIV id="main" data-role="page">
<DIV class="ui-body ui-body-a" data-role="content">
<DIV data-role="fieldcontain">
<FIELDSET data-role="controlgroup" data-mini="true"><LEGEND>Weather 
Provider:</LEGEND>                 <INPUT name="weather-service" class="custom" 
id="radioyahoo" type="radio" value="yahoo">                 <LABEL for="radioyahoo">YAHOO! 
Weather</LABEL>                 <INPUT name="weather-service" class="custom" id="radioopen" 
type="radio" value="open">                 <LABEL for="radioopen">Open Weather 
Map</LABEL>             </FIELDSET></DIV>
<DIV data-role="fieldcontain"><LABEL for="fliphourly">Hourly Weather (requires 
key):</LABEL>             <SELECT name="fliphourly" id="fliphourly" data-role="slider" 
data-mini="true"><OPTION value="off">Off</OPTION>                 <OPTION 
  value="on">On</OPTION>             </SELECT>         </DIV>
<DIV class="ui-content" id="popupCloseRight" data-role="popup"><A class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right" 
href="http://jaredbiehler.github.io/weather-my-way/config/#" 
data-rel="back">Close</A>
<P>Hourly weather requires a Weather Underground API key.</P>
<P>Weather Underground provides a free Developer API key, but you must first 
sign up.                You can <A href="http://www.wunderground.com/weather/api/">sign 
up here.</A></P></DIV>
<DIV id="apikey" data-role="fieldcontain" data-mini="true">
<DIV class="ui-field-contain"><LABEL for="text-apikey">Weather Underground API 
Key:</LABEL>                 <INPUT name="text-apikey" id="text-apikey" type="text" autocomplete="off" autocorrect="off" autocapitalize="off"> 
            </DIV></DIV>
<DIV data-role="fieldcontain">
<FIELDSET data-role="controlgroup" data-mini="true" 
data-type="horizontal"><LEGEND>Temperature Scale:</LEGEND>                 
<INPUT name="weather-scale" class="custom" id="radioF" type="radio" value="F">   
              <LABEL for="radioF">°Fahrenheit</LABEL>                 <INPUT 
name="weather-scale" class="custom" id="radioC" type="radio" value="C">          
       <LABEL for="radioC">°Celsius</LABEL>             </FIELDSET></DIV>
<DIV data-role="fieldcontain"><LABEL for="flipbattery">Display Battery:</LABEL>  
           <SELECT name="flipbattery" id="flipbattery" data-role="slider" 
data-mini="true"><OPTION value="off">Off</OPTION>                 <OPTION 
  value="on">On</OPTION>             </SELECT>         </DIV>
<DIV data-role="fieldcontain"><LABEL for="flipdebug">Debug Mode:</LABEL>         
    <SELECT name="flipdebug" id="flipdebug" data-role="slider" 
  data-mini="true"><OPTION value="off">Off</OPTION>                 <OPTION 
  value="on">On</OPTION>             </SELECT>         </DIV>
<FIELDSET class="ui-grid-a">
<DIV class="ui-block-a"><BUTTON id="b-cancel" type="submit" 
data-theme="d">Cancel</BUTTON></DIV>
<DIV class="ui-block-b"><BUTTON id="b-submit" type="submit" 
data-theme="b">Save</BUTTON></DIV></FIELDSET></DIV></DIV>
<SCRIPT>
    function saveOptions() {
        return {
            'service': $("#radioyahoo").is(':checked') ? 'yahoo' : 'open',
            'scale':   $("#radioF").is(':checked')     ? 'F' : 'C',
            'battery': $("select[name=flipbattery]").prop('selectedIndex') ? 'on' : 'off',
            'debug':   $("select[name=flipdebug]").prop('selectedIndex')   ? 'true' : 'false',
            'wuApiKey':$("select[name=fliphourly]").prop('selectedIndex')  ? $("#text-apikey").val() : null
        };
    }

    function getURLParameter(name) {
        return decodeURI(
                (RegExp(name + '=' + '(.+?)(&|$)').exec(location.search)||[,null])[1]
        );
    }

    $().ready(function() {

        var initialLoad = true;

        var flipHourly = $("select[name=fliphourly]");
        flipHourly.bind( "change", function(event, ui) {
            var val = $(this).val();
            if (val === 'on') {
                $("#apikey").show();
                if (!initialLoad) {
                    $("#popupCloseRight").popup("open");
                }
            } else {
                $("#apikey").hide();
            }
        });

        var service = getURLParameter('s');
        if (service === 'open') {
            $("#radioopen").attr("checked", "checked");
        } else {
            $("#radioyahoo").attr("checked", "checked");
        }
        $("input[name='weather-service']").checkboxradio("refresh");

        var scale = getURLParameter('u');
        if (scale === 'C') {
            $("#radioC").attr("checked", "checked");
        } else {
            $("#radioF").attr("checked", "checked");
        }
        $("input[name='weather-scale']").checkboxradio("refresh");

        var apikey = getURLParameter('a');
        if (apikey !== 'null') {
            flipHourly.prop('selectedIndex', 1);
            $("#text-apikey").val(apikey);
        } else {
            flipHourly.prop('selectedIndex', 0);
        }
        flipHourly.change();

        var flipBattery = $("select[name=flipbattery]");
        var battery = getURLParameter('b');
        if (battery === 'off') {
            flipBattery.prop('selectedIndex', 0);
        } else {
            flipBattery.prop('selectedIndex', 1);
        }

        var flipDebug = $("select[name=flipdebug]");
        var debug = getURLParameter('d');
        if (debug === 'true') {
            flipDebug.prop('selectedIndex', 1);
        } else {
            flipDebug.prop('selectedIndex', 0);
        }

        $("select").slider("refresh");

        $("#b-cancel").click(function() {
            console.log("Cancel");
            document.location = "pebblejs://close";
        });

        $("#b-submit").click(function() {
            console.log("Submit");

            var location = "pebblejs://close#" + (JSON.stringify(saveOptions()));
            console.log("Warping to: " + location);
            console.log(location);
            document.location = location;
        });

        initialLoad = false;
    });
</SCRIPT>
 
<SCRIPT>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-50506231-1', 'jaredbiehler.github.io');
    ga('send', 'pageview');

</SCRIPT>
 </BODY></HTML>
